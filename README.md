# 设计思路  
玩家可以操作主角移动、设计，在随机生成的地图上躲避并战胜所有敌人。  
地图用自己设计的随机算法生成，确保不会把任何生物卡死；场景中的所有生物以及子弹，每一个都是一个独立的线程，敌人会自动寻路追踪玩家。


# 实现过程
因为场景中的状况随时都在刷新，而我所用的简易寻路算法必须能访问场景全局。因此，仅使用一个线程锁，用于控制所有的读写和交互。任何生物或子弹的线程在行动之前必须获得此锁，操作完成后释放锁。玩家的线程以20ms一次的速度来读取目前的按键输入，来决定玩家是否行动；而子弹、敌人的线程都会在行动后休眠一段时间（有一定随机性）。加上寻路算法并不复杂（因为场景不大，且敌人只需要寻找玩家），按照目前的设计思路不存在线程冲突或线程被挂起的问题。

# 待改进之处
1、不够面向对象，许多设计思路还不够清晰
2、线程的处理还可以优化，公用一个线程锁毕竟过于简单粗暴